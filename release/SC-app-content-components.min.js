"use strict";angular.module("SC-app-content-components",[]),angular.module("SC-app-content-components").controller("HeadingCtrl",["$scope",function(a){"subheading"===a.paragraph.bundle&&(a.paragraph.field_subheading="<h"+a.paragraph.field_subheading_level+">"+a.paragraph.field_subheading+"</h"+a.paragraph.field_subheading_level+">")}]),angular.module("SC-app-content-components").directive("eventList",["$http","$compile",function(a,b){return{restrict:"A",scope:!0,compile:function(){return function(c,d){var e="bower_components/SC-app-content-components/release/featuredEventsView.html";a.get(e).then(function(a){d.html(b(a.data)(c))})}}}}]).directive("personList",["$http","$compile",function(a,b){return{restrict:"A",scope:!0,compile:function(){return function(c,d){var e="bower_components/SC-app-content-components/release/featuredPersonsView.html";a.get(e).then(function(a){d.html(b(a.data)(c))})}}}}]).directive("pageList",["$http","$compile",function(a,b){return{restrict:"A",scope:!0,compile:function(){return function(c,d){var e="bower_components/SC-app-content-components/release/featuredPagesView.html";a.get(e).then(function(a){d.html(b(a.data)(c))})}}}}]).directive("youtubePromo",["$http","$compile","$window",function(a,b,c){return{restrict:"A",scope:!0,compile:function(){return function(d,e){var f="bower_components/SC-app-content-components/release/youtubePromoView.html";a.get(f).then(function(a){var f=angular.element(d.component.field_youtube_embed_code.value),g=f.attr("src");if(g=g.indexOf("&")>-1?g+"&":g+"?",g+="enablejsapi=1",g=g.replace(/http:/g,""),g=g.replace(/https:/g,""),f.attr("src",g),d.component.field_youtube_embed_code.value=f[0].outerHTML,e.html(b(a.data)(d)),"undefined"==typeof c.orientation){var h=function(){setTimeout(function(){if(c.youTubeIframeAPIReady){var a;a=new c.YT.Player(e.find("iframe")[0],{events:{onReady:function(){d.playVideo=function(){a.playVideo(),e.find("#play-button").remove()}},onStateChange:function(a){1===a.data&&e.find("#play-button").remove()}}})}else h()},200)};h()}else e.find("#play-button").remove()})}}}}]).directive("linkList",["$http","$compile",function(a,b){return{restrict:"A",scope:!0,compile:function(){return function(c,d){var e="bower_components/SC-app-content-components/release/linkListView.html";a.get(e).then(function(a){d.html(b(a.data)(c))})}}}}]).directive("htmlBlock",["$http","$compile",function(a,b){return{restrict:"A",scope:!0,compile:function(){return function(c,d){var e="bower_components/SC-app-content-components/release/htmlBlockView.html";a.get(e).then(function(a){d.html(b(a.data)(c))})}}}}]).directive("twitterFeed",["$http","$compile",function(a,b){return{restrict:"A",scope:!0,compile:function(){return function(c,d){var e="bower_components/SC-app-content-components/release/twitterFeedView.html";a.get(e).then(function(a){d.html(b(a.data)(c))})}}}}]),angular.module("SC-app-content-components").controller("TwitterFeedCtrl",["$scope","$rootScope","$http","$window",function(a,b,c,d){c.get("/json/favourited-tweets/"+b.festivalId).success(function(b){b.errors||(a.twitterValid=!0,a.tweets=b,angular.forEach(a.tweets,function(b,c){a.tweets[c].created_at=d.moment(b.created_at).fromNow();var e={};angular.forEach(b.entities.hashtags,function(a){e[a.indices[0]]='<a href="https://twitter.com/hashtag/'+a.text+'">',e[a.indices[1]]="</a>"}),angular.forEach(b.entities.media,function(a){e[a.indices[0]]='<a href="'+a.media_url+'">',e[a.indices[1]]="</a>"}),angular.forEach(b.entities.urls,function(a){e[a.indices[0]]='<a href="'+a.url+'">',e[a.indices[1]]="</a>"}),angular.forEach(b.entities.user_mentions,function(a){e[a.indices[0]]='<a href="http://twitter.com/'+a.screen_name+'">',e[a.indices[1]]="</a>"});var f=0;angular.forEach(e,function(b,d){var e=parseInt(d,10)+f;a.tweets[c].text=a.tweets[c].text.substr(0,e)+b+a.tweets[c].text.substr(e),f+=b.length})}))})}]);