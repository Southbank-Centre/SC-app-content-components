"use strict";angular.module("SC-app-content-components",[]),angular.module("SC-app-content-components").controller("HeadingCtrl",["$scope",function(a){"subheading"===a.paragraph.bundle&&(a.paragraph.field_subheading="<h"+a.paragraph.field_subheading_level+">"+a.paragraph.field_subheading+"</h"+a.paragraph.field_subheading_level+">")}]),angular.module("SC-app-content-components").directive("scEventList",["$http","$compile",function(a,b){return{restrict:"A",scope:!0,compile:function(){return function(c,d){var e="bower_components/SC-app-content-components/release/featuredEventsView.html";a.get(e).then(function(a){d.html(b(a.data)(c))})}}}}]).directive("scPersonList",["$http","$compile",function(a,b){return{restrict:"A",scope:!0,compile:function(){return function(c,d){var e="bower_components/SC-app-content-components/release/featuredPersonsView.html";a.get(e).then(function(a){d.html(b(a.data)(c))})}}}}]).directive("scPageList",["$http","$compile",function(a,b){return{restrict:"A",scope:!0,compile:function(){return function(c,d){var e="bower_components/SC-app-content-components/release/featuredPagesView.html";a.get(e).then(function(a){d.html(b(a.data)(c))})}}}}]).directive("scBlogPostList",["$http","$compile","utilitiesFactory",function(a,b,c){return{restrict:"A",scope:!0,compile:function(){return function(d,e){var f="bower_components/SC-app-content-components/release/featuredBlogPostView.html";a.get(f).then(function(a){var f=[];angular.forEach(d.component.field_list_blog_post.field_blog_post_list,function(a){a.field_published_date&&(a.field_published_date=c.timestampSecondsToMS(a.field_published_date)),parseInt(a.status,10)>0&&f.push(a)}),d.component.field_list_blog_post.field_blog_post_list=f,e.html(b(a.data)(d))})}}}}]).directive("scYoutubePromo",["$http","$compile","$window",function(a,b,c){return{restrict:"A",scope:!0,compile:function(){return function(d,e){if("undefined"==typeof c.orientation){var f=document.createElement("script");f.src="https://www.youtube.com/iframe_api";var g=document.getElementsByTagName("script")[0];g.parentNode.insertBefore(f,g),c.onYouTubeIframeAPIReady=function(){window.youTubeIframeAPIReady=!0}}var h="bower_components/SC-app-content-components/release/youtubePromoView.html";a.get(h).then(function(a){var f=angular.element(d.component.field_youtube_embed_code.value),g=f.attr("src");if(g=g.indexOf("?")>-1?g+"&":g+"?",g+="enablejsapi=1",g=g.replace(/http:/g,""),g=g.replace(/https:/g,""),f.attr("src",g),d.component.field_youtube_embed_code.value=f[0].outerHTML,e.html(b(a.data)(d)),"undefined"==typeof c.orientation){var h=function(){setTimeout(function(){if(c.youTubeIframeAPIReady){var a;a=new c.YT.Player(e.find("iframe")[0],{events:{onReady:function(){d.playVideo=function(){a.playVideo(),e.find("#play-button").remove()}},onStateChange:function(a){1===a.data&&e.find("#play-button").remove()}}})}else h()},200)};h()}else e.find("#play-button").remove()})}}}}]).directive("scLinkList",["$http","$compile",function(a,b){return{restrict:"A",scope:!0,compile:function(){return function(c,d){var e="bower_components/SC-app-content-components/release/linkListView.html";a.get(e).then(function(a){d.html(b(a.data)(c))})}}}}]).directive("scHtmlBlock",["$http","$compile",function(a,b){return{restrict:"A",scope:!0,compile:function(){return function(c,d){var e="bower_components/SC-app-content-components/release/htmlBlockView.html";a.get(e).then(function(a){d.html(b(a.data)(c))})}}}}]).directive("scTwitterFeed",["$http","$compile",function(a,b){return{restrict:"A",scope:!0,compile:function(){return function(c,d){var e="bower_components/SC-app-content-components/release/twitterFeedView.html";a.get(e).then(function(a){d.html(b(a.data)(c))})}}}}]).directive("scHeading",["$http","$compile",function(a,b){return{restrict:"A",scope:!0,compile:function(){return function(c,d){var e="bower_components/SC-app-content-components/release/headingView.html";a.get(e).then(function(a){d.html(b(a.data)(c))})}}}}]).directive("scLongText",["$http","$compile",function(a,b){return{restrict:"A",scope:!0,compile:function(){return function(c,d){var e="bower_components/SC-app-content-components/release/longTextView.html";a.get(e).then(function(a){d.html(b(a.data)(c))})}}}}]).directive("scSoundcloud",["$http","$compile",function(a,b){return{restrict:"A",scope:!0,compile:function(){return function(c,d){var e="bower_components/SC-app-content-components/release/soundcloudView.html";a.get(e).then(function(a){d.html(b(a.data)(c))})}}}}]).directive("scYoutube",["$http","$compile",function(a,b){return{restrict:"A",scope:!0,compile:function(){return function(c,d){var e="bower_components/SC-app-content-components/release/youtubeView.html";a.get(e).then(function(a){d.html(b(a.data)(c))})}}}}]).directive("scFlickr",["$http","$compile",function(a,b){return{restrict:"A",scope:!0,compile:function(){return function(c,d){var e="bower_components/SC-app-content-components/release/flickrView.html";a.get(e).then(function(a){d.html(b(a.data)(c))})}}}}]).directive("scPullQuote",["$http","$compile",function(a,b){return{restrict:"A",scope:!0,compile:function(){return function(c,d){var e="bower_components/SC-app-content-components/release/pullQuoteView.html";a.get(e).then(function(a){d.html(b(a.data)(c))})}}}}]).directive("scLink",["$http","$compile",function(a,b){return{restrict:"A",scope:!0,compile:function(){return function(c,d){var e="bower_components/SC-app-content-components/release/linkView.html";a.get(e).then(function(a){d.html(b(a.data)(c))})}}}}]).directive("scImage",["$http","$compile",function(a,b){return{restrict:"A",scope:!0,compile:function(){return function(c,d){var e="bower_components/SC-app-content-components/release/imageView.html";a.get(e).then(function(a){d.html(b(a.data)(c))})}}}}]).directive("scStorify",["$http","$compile",function(a,b){return{restrict:"A",scope:!0,compile:function(){return function(c,d){var e="bower_components/SC-app-content-components/release/storifyView.html";a.get(e).then(function(a){d.html(b(a.data)(c))})}}}}]),angular.module("SC-app-content-components").controller("TwitterFeedCtrl",["$scope","$http","$window","appConfig",function(a,b,c,d){d.festivalId?b.get("/json/favourited-tweets/"+d.festivalId).success(function(b){b.errors||(a.twitterValid=!0,a.tweets=b,angular.forEach(a.tweets,function(b,d){a.tweets[d].created_at=c.moment(b.created_at).fromNow();var e={};angular.forEach(b.entities.hashtags,function(a){e[a.indices[0]]='<a href="https://twitter.com/hashtag/'+a.text+'">',e[a.indices[1]]="</a>"}),angular.forEach(b.entities.media,function(a){e[a.indices[0]]='<a href="'+a.media_url+'">',e[a.indices[1]]="</a>"}),angular.forEach(b.entities.urls,function(a){e[a.indices[0]]='<a href="'+a.url+'">',e[a.indices[1]]="</a>"}),angular.forEach(b.entities.user_mentions,function(a){e[a.indices[0]]='<a href="http://twitter.com/'+a.screen_name+'">',e[a.indices[1]]="</a>"});var f=0;angular.forEach(e,function(b,c){var e=parseInt(c,10)+f;a.tweets[d].text=a.tweets[d].text.substr(0,e)+b+a.tweets[d].text.substr(e),f+=b.length})}))}):console.error("Twitter feed component requires festival module")}]);